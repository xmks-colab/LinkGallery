<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Color Wheel Pro</title>
<style>
  body {
    background:#111;
    color:white;
    font-family: Arial;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
  }

  .box {
    background:#1b1b1b;
    padding:20px;
    border-radius:12px;
    text-align:center;
    width:360px;
  }

  #nome {
    font-size:36px;
    font-weight:bold;
    margin-bottom:15px;
  }

  canvas {
    cursor:crosshair;
  }

  .controle {
    margin-top:10px;
  }
</style>
</head>
<body>

<div class="box">
  <div id="nome">BRUNO</div>

  <canvas id="wheel" width="250" height="250"></canvas>

  <div class="controle">
    Brilho:
    <input type="range" id="l" min="0" max="100" value="50">
  </div>
</div>

<script>
const canvas = document.getElementById("wheel");
const ctx = canvas.getContext("2d");
const nome = document.getElementById("nome");
const l = document.getElementById("l");

let hue = 0;
let sat = 100;
let mouseDown = false;

// desenha o c√≠rculo
function desenharWheel() {
  const r = canvas.width/2;
  const img = ctx.createImageData(canvas.width, canvas.height);
  const data = img.data;

  for(let y=0; y<canvas.height; y++){
    for(let x=0; x<canvas.width; x++){
      const dx = x - r;
      const dy = y - r;
      const dist = Math.sqrt(dx*dx + dy*dy);
      const idx = (y * canvas.width + x) * 4;

      if(dist <= r){
        let angle = Math.atan2(dy, dx) * 180 / Math.PI;
        angle = (angle + 360) % 360;
        const s = (dist / r) * 100;
        const color = `hsl(${angle}, ${s}%, 50%)`;

        ctx.fillStyle = color;
        ctx.fillRect(x,y,1,1);
      }
    }
  }
}

desenharWheel();

function atualizarCor(){
  const cor = `hsl(${hue}, ${sat}%, ${l.value}%)`;
  nome.style.color = cor;
}

// captura clique e arraste
function pegarCor(e){
  const rect = canvas.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;
  const r = canvas.width/2;
  const dx = x - r;
  const dy = y - r;
  const dist = Math.sqrt(dx*dx + dy*dy);

  if(dist <= r){
    let angle = Math.atan2(dy, dx) * 180 / Math.PI;
    hue = (angle + 360) % 360;
    sat = (dist / r) * 100;
    atualizarCor();
  }
}

canvas.addEventListener("mousedown", e => { mouseDown = true; pegarCor(e); });
canvas.addEventListener("mousemove", e => { if(mouseDown) pegarCor(e); });
window.addEventListener("mouseup", () => mouseDown = false);

l.oninput = atualizarCor;
atualizarCor();
</script>

</body>
</html>